<!DOCTYPE html>
<html lang="zxx">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Урок 15. Об'єкти - продовження / Задача 2</title>
    <style> body { line-height: 1.5; } </style>
</head>
<body>
    <h2><a href="./../index.html">Список всіх задач</a></h2>
    <h3>Задача 2</h3>
    <p>
        Створити об’єкт «Авто».
    </p>
    <table border="1" style="border-collapse: collapse;" cellpadding="5">
        <tbody>
            <tr>
                <td colspan="2">Авто</td>
            </tr>
            <tr>
                <td>Поля (властивості)</td>
                <td>Марка<br>
                    Розмір бака<br>
                    Кількість наявних літрів<br>
                    Кількість місць<br>
                    Кількість пасажирів</td>
            </tr>
            <tr>
                <td>Методи (дії)</td>
                <td>Заправка на вказану кількість літрів<br>
                    Виведення кількості пасажирів<br>
                    Додавання пасажирів<br>
                    Висадка пасажирів</td>
            </tr>
        </tbody>
    </table>
    <br>
    <h2>Розвʼязок</h2>

    <script>

        // Створення класу "Авто"
        class Auto {
            constructor(initBrand, initTankSize, initLiters, initSeatsNum, initPassengers) {
                this.brand = initBrand
                this.fuelTankSize = initTankSize
                this.availableLiters = initLiters
                this.seatsNumber = initSeatsNum
                this.passengersNumber = initPassengers
            }

            fillTank(liters) {
                if (this.availableLiters + liters > this.fuelTankSize)
                    throw new Error('The tank of auto cannot contain the given number of liters.')

                this.availableLiters += liters
            }

            outputPassengersNumber() {
                return `<b>Кількість пасажирів:</b> ${this.passengersNumber}`
            }

            addPassengers(passengers) {
                if (this.passengersNumber + passengers > this.seatsNumber)
                    throw new Error('The number of passengers is more than auto can accommodate.')

                this.passengersNumber += passengers
            }

            exitPassengers(passengers) {
                if (this.passengersNumber - passengers < 0)
                    throw new Error('The number of passengers is more than there are in the auto.')

                this.passengersNumber -= passengers
            }

            toString() {
                return `Марка авто: ${this.brand}<br>
                        Розмір бака: ${this.fuelTankSize}<br>
                        Кількість наявних літрів: ${this.availableLiters}<br>
                        Кількість місць: ${this.seatsNumber}<br>
                        Кількість пасажирів: ${this.passengersNumber}<br>`
            }
        }

        // Приклад використання класу "Авто"
        let userAuto = new Auto('Audi', 50, 30, 5, 2)

        document.write(`<b>Початкова інформація про авто:</b> <br> 
                        ${userAuto} <br><br>`)

        const userLiters = parseInt(prompt(`Введіть кількість літрів: (для повного заповнення баку потрібно ${userAuto.fuelTankSize - userAuto.availableLiters} літрів)`))
        userAuto.fillTank(userLiters)
        document.write(`<b>Кількість наявних літрів:</b> ${userAuto.availableLiters} <br>`)

        const userAddPassengers = parseInt(prompt(`Скільки додати пасажирів: (залишилось ${userAuto.seatsNumber - userAuto.passengersNumber} місць)`))
        userAuto.addPassengers(userAddPassengers)
        document.write(`${userAuto.outputPassengersNumber()} <br>`)

        const userDecreasePassengers = parseInt(prompt(`Скільки висадити пасажирів: (зараз в авто ${userAuto.passengersNumber} пасажирів)`))
        userAuto.exitPassengers(userDecreasePassengers)
        document.write(`${userAuto.outputPassengersNumber()} <br>`)

    </script>
</body>
</html>